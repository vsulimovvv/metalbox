window.addEventListener("DOMContentLoaded",()=>{function e(e,t){const o=document.querySelectorAll(e),c=t;o.forEach(t=>{t.addEventListener("click",e=>{o.forEach(e=>{e.classList.remove(c)}),t.classList.add(c)})})}$('input[type="tel"]').mask("+7 (999) 999-99-99"),document.addEventListener("click",e=>{var o=e.target.matches("[data-dropdown-button]");if(o||null==e.target.closest("[data-dropdown]")){let t;o&&(t=e.target.closest("[data-dropdown]")).classList.toggle("active"),document.querySelectorAll("[data-dropdown].active").forEach(e=>{e!==t&&e.classList.remove("active")})}}),window.addEventListener("scroll",function(){const e=document.querySelectorAll(".catalog-section"),o=document.querySelector(".header--catalog");document.querySelector(".catalog-section--footer"),e.length,e.forEach(e=>{var t=e.offsetHeight,e=e.offsetTop-100;scrollY>e&&scrollY<=e+t?(o.style.opacity="0",o.style.visibility="hidden"):(o.style.opacity="1",o.style.visibility="visible")})}),e(".checkout-box__box","checkout-box__box--active"),e(".cart-top__item","cart-top__item--active");{const s=document.querySelector(".checkout__wrapper");if(s){const r=s.querySelectorAll(".checkout-box__box"),n=s.querySelector(".cart-right__btn");r.forEach(t=>{t.addEventListener("click",e=>{t.classList.contains("checkout-box__box--active")&&("Наличными (в офисе)"!==t.querySelector(".checkout-box__heading").textContent&&"По терминалу (в офисе)"!==t.querySelector(".checkout-box__heading").textContent||(n.innerText="оформить заказ"),"Онлайн по QR"===t.querySelector(".checkout-box__heading").textContent&&(n.innerText="перейти к оплате"))})})}}{const a=document.querySelectorAll(".colors__item"),l=document.querySelector(".colors__text"),d="colors__item--active";a.forEach(t=>{t.addEventListener("click",e=>{a.forEach(e=>{e.classList.remove(d)}),t.classList.add(d),t.classList.contains("colors__item--white")&&(l.innerText="Белый"),t.classList.contains("colors__item--brown")&&(l.innerText="Коричневый"),t.classList.contains("colors__item--silver")&&(l.innerText="Серый"),t.classList.contains("colors__item--beige")&&(l.innerText="Бежевый"),t.classList.contains("colors__item--metallic-silver")&&(l.innerText="Серебряный металик")})})}var t;t=new Swiper("#slider-nav",{slidesPerView:"auto",spaceBetween:12,direction:"vertical",watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:document.querySelector(".slider-thumbs__nav .swiper-button-next"),prevEl:document.querySelector(".slider-thumbs__nav .swiper-button-prev")}}),new Swiper("#slider-main",{spaceBetween:10,loopedSlides:4,thumbs:{swiper:t}}),t=document.querySelector(".product__slider"),new Swiper(t,{autoplay:{delay:4e3,disableOnInteraction:!1},loop:!0,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});{const u=document.querySelectorAll(".more-block__slider");u.forEach(e=>{new Swiper(e,{loop:!0,navigation:{nextEl:e.querySelector(".swiper-button-next"),prevEl:e.querySelector(".swiper-button-prev")}})})}t=document.querySelector(".discount-badge__slider"),new Swiper(t,{autoplay:{delay:4e3,disableOnInteraction:!1},cssMode:!0,loop:!0}),t=document.querySelector(".hero__slider"),new Swiper(t,{loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},speed:1e3,effect:"creative",creativeEffect:{prev:{shadow:!1,translate:["0%",0,-1]},next:{translate:["100%",0,0]}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".hero .swiper-button-next",prevEl:".hero .swiper-button-prev"}}),t=document.querySelector(".individual-card__slider"),new Swiper(t,{spaceBetween:15,slidesPerView:"auto",navigation:{nextEl:".individual-card__content .swiper-button-next",prevEl:".individual-card__content .swiper-button-prev"}});{const p=document.querySelector(".individual-card__left img"),v=document.querySelectorAll(".individual-card__img img"),_=document.querySelectorAll(".individual-card__slide");_.forEach(t=>{t.addEventListener("click",e=>{_.forEach(e=>{e.classList.remove("individual-card__slide--active")}),t.classList.add("individual-card__slide--active")})}),v.forEach(t=>{t.addEventListener("click",e=>{p.src=t.src})})}window.addEventListener("scroll",function(){const e=document.querySelector("header");50<=this.scrollY?e.classList.add("scroll-header"):e.classList.remove("scroll-header")});const o=document.querySelector("header");50<=window.pageYOffset&&o.classList.add("scroll-header");{const m=document.querySelector(".header__toggle"),b=document.querySelector(".mobile-menu"),y=document.querySelector(".mobile-menu__close"),f=document.querySelector("body"),g=document.querySelector(".overlay");m.addEventListener("click",e=>{b.classList.toggle("active"),g.classList.toggle("active"),f.classList.toggle("no-scroll")}),g.addEventListener("click",e=>{b.classList.remove("active"),g.classList.remove("active"),f.classList.remove("no-scroll")}),y.addEventListener("click",e=>{b.classList.remove("active"),g.classList.remove("active"),f.classList.remove("no-scroll")})}function c(e,t,o){const c=document.querySelectorAll(e),i=document.querySelector(t),s=document.querySelectorAll(o),r=document.querySelector("body");i&&(c.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),i.classList.add("active"),r.classList.add("no-scroll")})}),s.forEach(e=>{e.addEventListener("click",e=>{i.classList.remove("active"),r.classList.remove("no-scroll")})}),i.addEventListener("click",e=>{e.target===i&&(i.classList.remove("active"),r.classList.remove("no-scroll"))}))}function i(e,t,o,s){const r=document.querySelectorAll(e),n=document.querySelectorAll(t),a=document.querySelectorAll(o);r.forEach(e=>{function c(){a.forEach(e=>{e.classList.remove("active")}),n.forEach(e=>{e.classList.remove(s)})}function i(e=0){a[e].classList.add("active"),n[e].classList.add(s)}r&&(c(),i(),r.forEach(e=>{e&&e.addEventListener("click",e=>{const o=e.target;o.classList.contains(t.replace(/\./,""))&&n.forEach((e,t)=>{o!=e&&o.parentNode!=e||(c(),i(t))})})}))})}if(c(".product__spec-btn",".popup--spec",".popup__close"),c(".cart-total",".popup--cart",".popup__close"),c(".btn-request",".popup--request",".popup__close"),c(".btn-individual",".popup--individual",".popup__close"),c(".btn-certification",".popup--сertification",".popup__close"),c(".btn-more",".popup--learn-more",".popup__close"),c(".btn-more-2",".popup--learn-more-without-btns",".popup__close"),c(".btn-reviews",".popup--reviews",".popup__close"),c(".btn-photos",".popup--projects",".popup__close"),c(".btn-cooperation",".popup--cooperation",".popup__close"),c(".btn-video",".popup--projects-videos",".popup__close"),i(".tabs",".tabs-btn",".tabs-content","tabs-btn--active"),i(".tabs-map",".tabs-map-btn",".tabs-map-content","tabs-map-btn--active"),document.querySelector(".sections")){const h={scrollify:$(".js--scrollify"),navigate:$(".js--navigate"),navigateItems:$(".js--navigate-items"),navigateLink:$(".js--navigate-link")};h.navigateItems.on("click",".js--navigate-link",e=>{e.preventDefault();const t=$(e.currentTarget);e=t.attr("href");$.scrollify.move(e)}),$(".catalog-section__down-btn").on("click",e=>{e.preventDefault();const t=$(e.currentTarget);e=t.attr("href");$.scrollify.move(e)}),$.scrollify({section:".js--scrollify",sectionName:"section-name",overflowScroll:!1,setHeights:!0,scrollSpeed:100,interstitialSection:".footer",standardScrollElements:".footer",before(e,t){"footer"===t[e].data("section-name")?h.navigate.addClass("is--inactive"):h.navigate.removeClass("is--inactive"),h.navigateLink.parent().siblings().find(".js--navigate-link").removeClass("is--active"),h.navigateLink.eq(e).addClass("is--active")},after:function(e,t){var o=$.scrollify.current();$(".catalog-section").removeClass("active"),o.addClass("active")},afterRender(){}})}});